import{i as c,T as g,r as x,c as v,w as k,o as s,b as o,e as p,h as u,v as a,f as l,t as n,g as i}from"./app-BP0YNKCv.js";import{L as w}from"./FrontEndLayout-CGp3JsNY.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const h={components:{Link:c,Layout:w},data(){return{imagePreview:null,showQrModal:!1,qrCodeSvg:null}},setup(){return{form:g({title:"",author:"",bookId:"",publicationDate:"",description:"",course:"",availability:"Available",image:null})}},methods:{handleAddBook(){this.form.post(route("books.store"),{onSuccess:m=>{this.form.reset(),this.imagePreview=null,m.props.qrCodeSvg&&(this.qrCodeSvg=m.props.qrCodeSvg,this.showQrModal=!0)}})},closeQrModal(){this.showQrModal=!1,this.qrCodeSvg=null},previewImage(m){const e=m.target.files[0];e&&(this.form.image=e,this.imagePreview=URL.createObjectURL(e))}}},C={class:"ml-64 p-6 flex-1 bg-cover bg-center",style:{"background-image":"url('/img/background.jpg')"}},B={class:"max-w-4xl mx-auto bg-white p-8 rounded-lg shadow"},M={key:0,class:"text-red-500 text-xs mt-1"},D={key:0,class:"text-red-500 text-xs mt-1"},I={key:0,class:"text-red-500 text-xs mt-1"},q={key:0,class:"text-red-500 text-xs mt-1"},S={key:0,class:"text-red-500 text-xs mt-1"},L={key:0,class:"text-red-500 text-xs mt-1"},Q={key:0,class:"text-red-500 text-xs mt-1"},A={key:1,class:"mt-2"},U=["src"],V=["disabled"],P={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},_={class:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full relative"},j=["innerHTML"],T={class:"mt-4 text-center"};function N(m,e,R,t,f,d){const b=x("Layout");return s(),v(b,null,{default:k(()=>[o("div",C,[o("div",B,[e[18]||(e[18]=o("h2",{class:"text-center text-xl font-semibold mb-4"},"Add New Book",-1)),o("form",{onSubmit:e[7]||(e[7]=p((...r)=>d.handleAddBook&&d.handleAddBook(...r),["prevent"])),class:"space-y-4"},[o("div",null,[e[10]||(e[10]=o("label",{for:"title",class:"block text-sm font-medium mb-1"},"Book Title",-1)),u(o("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.form.title=r),id:"title",type:"text",required:"",class:"w-full border rounded-md p-2 text-sm focus:ring focus:ring-blue-200"},null,512),[[a,t.form.title]]),t.form.errors.title?(s(),l("div",M,n(t.form.errors.title),1)):i("",!0)]),o("div",null,[e[11]||(e[11]=o("label",{for:"author",class:"block text-sm font-medium mb-1"},"Author",-1)),u(o("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>t.form.author=r),id:"author",type:"text",required:"",class:"w-full border rounded-md p-2 text-sm focus:ring focus:ring-blue-200"},null,512),[[a,t.form.author]]),t.form.errors.author?(s(),l("div",D,n(t.form.errors.author),1)):i("",!0)]),o("div",null,[e[12]||(e[12]=o("label",{for:"bookId",class:"block text-sm font-medium mb-1"},"Book ID",-1)),u(o("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>t.form.bookId=r),id:"bookId",type:"text",required:"",class:"w-full border rounded-md p-2 text-sm focus:ring focus:ring-blue-200"},null,512),[[a,t.form.bookId]]),t.form.errors.bookId?(s(),l("div",I,n(t.form.errors.bookId),1)):i("",!0)]),o("div",null,[e[13]||(e[13]=o("label",{for:"publicationDate",class:"block text-sm font-medium mb-1"},"Publication Date",-1)),u(o("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>t.form.publicationDate=r),id:"publicationDate",type:"date",required:"",class:"w-full border rounded-md p-2 text-sm focus:ring focus:ring-blue-200"},null,512),[[a,t.form.publicationDate]]),t.form.errors.publicationDate?(s(),l("div",q,n(t.form.errors.publicationDate),1)):i("",!0)]),o("div",null,[e[14]||(e[14]=o("label",{for:"description",class:"block text-sm font-medium mb-1"},"Book Description",-1)),u(o("textarea",{"onUpdate:modelValue":e[4]||(e[4]=r=>t.form.description=r),id:"description",class:"w-full border rounded-md p-2 text-sm focus:ring focus:ring-blue-200 resize-y h-24"},null,512),[[a,t.form.description]]),t.form.errors.description?(s(),l("div",S,n(t.form.errors.description),1)):i("",!0)]),o("div",null,[e[15]||(e[15]=o("label",{for:"course",class:"block text-sm font-medium mb-1"},"Course",-1)),u(o("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>t.form.course=r),id:"course",type:"text",placeholder:"e.g., Computer Science, Mathematics, Literature",class:"w-full border rounded-md p-2 text-sm focus:ring focus:ring-blue-200"},null,512),[[a,t.form.course]]),t.form.errors.course?(s(),l("div",L,n(t.form.errors.course),1)):i("",!0)]),o("div",null,[e[16]||(e[16]=o("label",{for:"image",class:"block text-sm font-medium mb-1"},"Book Cover Image",-1)),o("input",{type:"file",id:"image",onChange:e[6]||(e[6]=(...r)=>d.previewImage&&d.previewImage(...r)),accept:"image/*",class:"w-full border rounded-md p-2 text-sm focus:ring focus:ring-blue-200"},null,32),t.form.errors.image?(s(),l("div",Q,n(t.form.errors.image),1)):i("",!0),f.imagePreview?(s(),l("div",A,[o("img",{src:f.imagePreview,class:"h-32 w-auto object-cover rounded"},null,8,U)])):i("",!0)]),o("button",{type:"submit",disabled:t.form.processing,class:"w-full bg-blue-600 text-white py-2 rounded-md text-sm hover:bg-blue-500 focus:outline-none focus:ring focus:ring-blue-200"}," Add Book ",8,V)],32),f.showQrModal?(s(),l("div",P,[o("div",_,[o("button",{onClick:e[8]||(e[8]=(...r)=>d.closeQrModal&&d.closeQrModal(...r)),class:"absolute top-2 right-2 text-gray-500 hover:text-gray-700"},"Ã—"),e[17]||(e[17]=o("h3",{class:"text-lg font-semibold mb-4 text-center"},"Book QR Code",-1)),o("div",{innerHTML:typeof f.qrCodeSvg=="string"?f.qrCodeSvg:"",class:"flex justify-center"},null,8,j),o("div",T,[o("button",{onClick:e[9]||(e[9]=(...r)=>d.closeQrModal&&d.closeQrModal(...r)),class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-500"},"Close")])])])):i("",!0)])])]),_:1})}const O=y(h,[["render",N]]);export{O as default};
