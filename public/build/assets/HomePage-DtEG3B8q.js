import{i as R,Q as N,N as k,r as O,f as n,b as t,h as y,v as h,t as u,d as x,a as q,w as S,g as c,A as j,e as m,F as w,q as M,l as F,o as d,n as C}from"./app-BP0YNKCv.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={components:{Link:R},props:{books:{type:Array,required:!0},myRequests:{type:Array,required:!1,default:()=>[]},notifications:{type:Array,required:!1,default:()=>[]}},data(){return{searchQuery:"",showQrModal:!1,qrModalSvg:"",qrModalBookId:null,qrModalBookTitle:"",showToast:!1,toastMessage:"",isModalOpen:!1,isProfileModalOpen:!1,isNotificationModalOpen:!1,isTransactionModalOpen:!1,isBorrowedModalOpen:!1,showDropdown:!1,showSidebar:!1,selectedBook:null,requestType:"",startDate:"",returnDate:"",profileForm:{fullname:"",email:"",phone_number:""}}},computed:{user(){return N().props.auth.user},userInitial(){return this.user.fullname.charAt(0)},filteredBooks(){return this.books.filter(r=>r.title.toLowerCase().includes(this.searchQuery.toLowerCase())||r.author.toLowerCase().includes(this.searchQuery.toLowerCase())||r.course&&r.course.toLowerCase().includes(this.searchQuery.toLowerCase()))},returnDateMin(){if(!this.startDate)return null;const r=this.startDate.split("-");if(r.length!==3)return this.startDate;const e=parseInt(r[0],10),l=parseInt(r[1],10)-1,a=parseInt(r[2],10);if(this.requestType==="reserve"){const i=new Date(e,l,a+1),o=i.getFullYear(),f=String(i.getMonth()+1).padStart(2,"0"),s=String(i.getDate()).padStart(2,"0");return`${o}-${f}-${s}`}return this.startDate}},watch:{requestType(r){r==="borrow"&&this.startDate?this.setReturnDateForBorrow():r==="reserve"&&this.startDate&&this.setReturnDateForReserve()},startDate(r){this.requestType==="borrow"&&r?this.setReturnDateForBorrow():this.requestType==="reserve"&&r&&this.setReturnDateForReserve()}},methods:{toggleDropdown(){this.showDropdown=!this.showDropdown},toggleSidebar(){this.showSidebar=!this.showSidebar},openNotificationModal(){this.isNotificationModalOpen=!0,this.showSidebar=!1},closeNotificationModal(){this.isNotificationModalOpen=!1},openTransactionModal(){this.isTransactionModalOpen=!0,this.showSidebar=!1},closeTransactionModal(){this.isTransactionModalOpen=!1},openBorrowedModal(){this.isBorrowedModalOpen=!0,this.showSidebar=!1},closeBorrowedModal(){this.isBorrowedModalOpen=!1},openModal(r){this.selectedBook=r,this.isModalOpen=!0},onStartDateChange(){this.startDate&&(this.requestType==="borrow"?this.setReturnDateForBorrow():this.requestType==="reserve"&&this.setReturnDateForReserve())},closeModal(){this.isModalOpen=!1,this.selectedBook=null},submitRequest(){this.requestType==="reserve"?k.post(route("student.reserve-book"),{book_id:this.selectedBook.id,reservation_date:this.startDate,return_date:this.returnDate},{onSuccess:()=>{this.closeModal(),window.location.reload()},onError:r=>{console.error(r)}}):this.requestType==="borrow"&&k.post(route("book-requests.store"),{book_id:this.selectedBook.id,request_type:"borrow",request_date:this.startDate,return_date:this.returnDate},{onSuccess:()=>{this.closeModal(),window.location.reload()},onError:r=>{console.error(r)}})},openProfileModal(){this.profileForm.fullname=this.user.fullname,this.profileForm.email=this.user.email,this.profileForm.phone_number=this.user.phone_number,this.isProfileModalOpen=!0},closeProfileModal(){this.isProfileModalOpen=!1},updateProfile(){k.put(route("profile.update.basic"),this.profileForm,{onSuccess:()=>{this.closeProfileModal()},onError:r=>{console.log(r)}})},async viewQrCode(r,e){try{const l=await fetch(`/books/${r}/qrcode`,{headers:{Accept:"application/json"}});if(!l.ok)throw new Error("Failed to fetch QR code");const a=await l.json();this.qrModalSvg=a.qrCodeSvg||"",this.qrModalBookId=r,this.qrModalBookTitle=e,this.showQrModal=!0}catch(l){console.error(l),this.showToast=!0,this.toastMessage="Unable to load QR code.",setTimeout(()=>this.showToast=!1,3e3)}},buildNotificationText(r,e="short"){if(r.message&&e==="short")return r.message;const l=r.payload&&typeof r.payload=="object"?r.payload:r.data&&typeof r.data=="object"?r.data:{},a=l.book_title||l.book||"",i=l.user_name||this.user&&this.user.fullname||"You",o=l.request_type||l.requestType||l.type||"request",f=l.request_date||l.requestDate||l.start_date||l.requested_at,s=l.start_date||l.startDate||l.request_date||f,b=l.due_date||l.return_date||l.dueDate,T=l.until_date||l.untilDate||l.available_until,D=l.days_left||l.daysLeft,_=l.reason||l.note||"",B=l.fine_amount||l.fineAmount||l.fine||"",g=v=>v,p=v=>v;switch((r.type||"").toLowerCase()){case"request_submitted":case"request_submitted_notification":case"request_submitted":return e==="short"?g(`Request received — ${a} (${o}) is pending review.`):p(`${i}, your ${o} request for "${a}" starting ${this.formatDate(f)} is received and is pending approval.`);case"request_approved":return e==="short"?g(`Request approved: ${a} — pick-up/borrow starts ${this.formatDate(s)}.`):p(`Good news, ${i}! Your ${o} request for "${a}" has been approved. Start date: ${this.formatDate(s)}. Due: ${this.formatDate(b)}.`);case"request_rejected":return e==="short"?g(`Request declined: ${a}.`):p(`We're sorry, ${i}. Your ${o} request for "${a}" (start: ${this.formatDate(f)}) was declined. Reason: ${_}. Contact admin for details.`);case"reservation_ready":case"reservation_ready_notification":return e==="short"?g(`Reservation ready: ${a} is available.`):p(`Hi ${i}, the book you reserved — "${a}" — is now available for pickup. Please collect it by ${this.formatDate(T)}.`);case"due_soon":return e==="short"?g(`Due in ${D||3} days: ${a}`):p(`Reminder: "${a}" is due on ${this.formatDate(b)} (in ${D||3} days). Please return or extend to avoid fines.`);case"due_tomorrow":return e==="short"?g(`Due tomorrow: ${a}`):p(`Heads up — "${a}" is due tomorrow (${this.formatDate(b)}). Return or contact the library to extend your loan.`);case"overdue":return e==="short"?g(`Overdue: ${a}`):p(`Overdue notice: "${a}" was due on ${this.formatDate(b)}. Please return it immediately to avoid fines. Current fine: ${B}.`);default:return r.message?r.message:l&&Object.keys(l).length?JSON.stringify(l):""}},formatDateTime(r){if(!r)return"";try{return new Date(r).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}catch{return r}},downloadQr(){if(!this.qrModalSvg)return;const r=new Blob([this.qrModalSvg],{type:"image/svg+xml"}),e=URL.createObjectURL(r),l=document.createElement("a"),a=(this.qrModalBookTitle||"book").replace(/[^a-z0-9-_]/gi,"_").toLowerCase();l.href=e,l.download=`${a}-${this.qrModalBookId||"qr"}.svg`,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(e),this.showToast=!0,this.toastMessage="QR code downloaded.",setTimeout(()=>this.showToast=!1,3e3)},setReturnDateForBorrow(){if(this.startDate){const r=this.startDate.split("-");if(r.length===3){const e=parseInt(r[0],10),l=parseInt(r[1],10)-1,a=parseInt(r[2],10),i=new Date(e,l,a);i.setDate(i.getDate()+7);const o=i.getFullYear(),f=String(i.getMonth()+1).padStart(2,"0"),s=String(i.getDate()).padStart(2,"0");this.returnDate=`${o}-${f}-${s}`}}},setReturnDateForReserve(){if(this.startDate){const r=this.startDate.split("-");if(r.length===3){const e=parseInt(r[0],10),l=parseInt(r[1],10)-1,a=parseInt(r[2],10),i=new Date(e,l,a+1),o=i.getFullYear(),f=String(i.getMonth()+1).padStart(2,"0"),s=String(i.getDate()).padStart(2,"0");this.returnDate=`${o}-${f}-${s}`}}},formatDate(r){return r?new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""}}},Q={class:"bg-[#081c2d] text-white py-3 px-6 shadow-sm mb-4 flex items-center justify-between"},U={class:"flex-1 mx-6"},I={class:"flex items-center space-x-4"},V={class:"flex flex-col items-end space-y-0.5"},z={class:"text-sm font-semibold"},A={class:"text-xs text-gray-400"},E={class:"text-xs text-gray-400"},H={key:0,class:"absolute top-12 right-0 w-44 bg-white rounded-lg shadow-md py-1 z-50"},Y={class:"flex items-center mb-4"},G={key:0,class:"fixed inset-0 z-50 flex"},J={class:"bg-[#081c2d] w-64 h-full shadow-lg p-6 flex flex-col"},K={class:"flex items-center justify-between mb-8"},W={class:"flex flex-col space-y-4"},X={class:"mb-4"},Z={class:"mb-4"},$={class:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md animate-fade-in relative"},ee={class:"text-gray-600"},te={key:0},se={key:1},oe={class:"space-y-2"},re={class:"text-sm text-gray-800 font-medium"},le={class:"text-xs text-gray-500 mt-1"},ie={key:0,class:"text-xs text-gray-400 mt-1"},ae={class:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md animate-fade-in relative max-h-[80vh] overflow-y-auto"},ne={key:0,class:"text-gray-600"},de={key:1},ue={class:"w-full border-collapse text-sm"},fe={class:"py-2 px-2"},ce={class:"py-2 px-2 capitalize"},me={class:"py-2 px-2"},ge={class:"py-2 px-2"},pe={class:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md animate-fade-in relative"},ye={class:"container mx-auto p-10"},be={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},he=["onClick"],xe=["src"],we={class:"p-4"},ve={class:"text-lg font-semibold text-gray-800 truncate"},ke=["onClick"],Me={class:"text-sm text-gray-600 mt-2"},De={class:"text-sm text-gray-600 mt-1"},qe={class:"text-sm text-gray-600 mt-1"},Se={class:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md animate-fade-in relative"},Ce=["min"],Te={class:"block text-sm font-medium text-gray-700"},_e=["min"],Be={class:"flex justify-end space-x-3"},Re=["disabled"],Ne={class:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md animate-fade-in"},Oe={class:"flex justify-end space-x-3"},je={class:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md animate-fade-in relative max-h-[80vh] overflow-y-auto"},Fe={class:"text-lg font-semibold text-gray-800 mb-4"},Le=["innerHTML"],Pe={class:"flex justify-end space-x-3"},Qe={key:6,class:"fixed bottom-6 right-6 bg-black text-white px-4 py-2 rounded shadow"};function Ue(r,e,l,a,i,o){const f=O("Link");return d(),n(w,null,[t("header",Q,[e[32]||(e[32]=t("div",{class:"flex items-center space-x-4"},[t("img",{src:"/img/logo2.png",alt:"BOOK CLOUD Logo",class:"max-w-[150px] h-auto"})],-1)),t("div",U,[y(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>i.searchQuery=s),placeholder:"Search by title, author, or course...",class:"w-full p-2 text-sm border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-400 transition-all duration-200"},null,512),[[h,i.searchQuery]])]),t("div",I,[t("button",{onClick:e[1]||(e[1]=(...s)=>o.toggleDropdown&&o.toggleDropdown(...s)),class:"w-10 h-10 rounded-full bg-[#00509e] flex items-center justify-center text-white text-sm font-semibold shadow-md transition-all hover:scale-105"},u(o.userInitial),1),t("div",V,[t("p",z,u(o.user.fullname),1),t("p",A,u(o.user.studentid),1),t("p",E,u(o.user.phone_number||"No phone number"),1)]),i.showDropdown?(d(),n("div",H,[t("button",{onClick:e[2]||(e[2]=(...s)=>o.openProfileModal&&o.openProfileModal(...s)),class:"block w-full text-left px-4 py-1 text-gray-800 hover:bg-gray-100 rounded-md transition-all duration-200"},e[30]||(e[30]=[t("i",{class:"fas fa-user-circle mr-2 text-lg"},null,-1),x(" Edit Profile ")])),q(f,{href:r.route("logout"),method:"post",as:"button",class:"block w-full text-left px-4 py-1 text-gray-800 hover:bg-gray-100 rounded-md transition-all duration-200"},{default:S(()=>e[31]||(e[31]=[t("i",{class:"fas fa-sign-out-alt mr-2 text-lg"},null,-1),x(" Logout ")])),_:1},8,["href"])])):c("",!0)])]),t("div",Y,[t("button",{onClick:e[3]||(e[3]=(...s)=>o.toggleSidebar&&o.toggleSidebar(...s)),class:"ml-2 mt-2 p-2 rounded-full bg-[#081c2d] text-white shadow hover:bg-[#00509e] focus:outline-none"},e[33]||(e[33]=[t("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))]),q(j,{name:"slide"},{default:S(()=>[i.showSidebar?(d(),n("div",G,[t("div",J,[t("div",K,[t("button",{onClick:e[4]||(e[4]=(...s)=>o.toggleSidebar&&o.toggleSidebar(...s)),class:"text-white focus:outline-none"},e[34]||(e[34]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("nav",W,[t("div",X,[e[36]||(e[36]=t("span",{class:"text-gray-300 uppercase text-xs tracking-wider"},"Notifications",-1)),t("button",{onClick:e[5]||(e[5]=(...s)=>o.openNotificationModal&&o.openNotificationModal(...s)),class:"flex items-center mt-2 text-white hover:text-blue-400 focus:outline-none"},e[35]||(e[35]=[t("i",{class:"fas fa-bell mr-2"},null,-1),x(" Notification ")]))]),t("div",Z,[e[38]||(e[38]=t("span",{class:"text-gray-300 uppercase text-xs tracking-wider"},"History",-1)),t("button",{onClick:e[6]||(e[6]=(...s)=>o.openTransactionModal&&o.openTransactionModal(...s)),class:"flex items-center mt-2 text-white hover:text-blue-400 focus:outline-none"},e[37]||(e[37]=[t("i",{class:"fas fa-history mr-2"},null,-1),x(" Transaction History ")]))])])]),t("div",{class:"flex-1",onClick:e[7]||(e[7]=(...s)=>o.toggleSidebar&&o.toggleSidebar(...s))})])):c("",!0)]),_:1}),i.isNotificationModalOpen?(d(),n("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",onClick:e[9]||(e[9]=m((...s)=>o.closeNotificationModal&&o.closeNotificationModal(...s),["self"]))},[t("div",$,[e[40]||(e[40]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Notifications",-1)),t("div",ee,[l.notifications&&l.notifications.length===0?(d(),n("div",te,"No notifications yet.")):(d(),n("div",se,[t("ul",oe,[(d(!0),n(w,null,M(l.notifications,s=>(d(),n("li",{key:s.id,class:"p-2 bg-gray-50 rounded"},[t("p",re,u(o.buildNotificationText(s,"short")),1),t("p",le,u(o.buildNotificationText(s,"long")),1),s.created_at?(d(),n("p",ie,u(o.formatDateTime(s.created_at)),1)):c("",!0)]))),128))])]))]),t("button",{onClick:e[8]||(e[8]=(...s)=>o.closeNotificationModal&&o.closeNotificationModal(...s)),class:"absolute top-2 right-2 text-gray-400 hover:text-gray-700"},e[39]||(e[39]=[t("i",{class:"fas fa-times"},null,-1)]))])])):c("",!0),i.isTransactionModalOpen?(d(),n("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",onClick:e[11]||(e[11]=m((...s)=>o.closeTransactionModal&&o.closeTransactionModal(...s),["self"]))},[t("div",ae,[e[43]||(e[43]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Transaction History",-1)),l.myRequests.length===0?(d(),n("div",ne,"No transaction history yet.")):(d(),n("div",de,[t("table",ue,[e[41]||(e[41]=t("thead",null,[t("tr",null,[t("th",{class:"py-2 px-2 text-left"},"Book"),t("th",{class:"py-2 px-2 text-left"},"Type"),t("th",{class:"py-2 px-2 text-left"},"Start"),t("th",{class:"py-2 px-2 text-left"},"Status")])],-1)),t("tbody",null,[(d(!0),n(w,null,M(l.myRequests,s=>(d(),n("tr",{key:s.id,class:"odd:bg-gray-50 even:bg-white"},[t("td",fe,u(s.book_title),1),t("td",ce,u(s.request_type),1),t("td",me,u(o.formatDate(s.request_date)),1),t("td",ge,[t("span",{class:C({"text-yellow-600":s.status==="pending","text-green-600":s.status==="approved","text-red-600":s.status==="rejected"})},u(s.status),3)])]))),128))])])])),t("button",{onClick:e[10]||(e[10]=(...s)=>o.closeTransactionModal&&o.closeTransactionModal(...s)),class:"absolute top-2 right-2 text-gray-400 hover:text-gray-700"},e[42]||(e[42]=[t("i",{class:"fas fa-times"},null,-1)]))])])):c("",!0),i.isBorrowedModalOpen?(d(),n("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",onClick:e[13]||(e[13]=m((...s)=>o.closeBorrowedModal&&o.closeBorrowedModal(...s),["self"]))},[t("div",pe,[e[45]||(e[45]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Borrowed/Reserve Book",-1)),e[46]||(e[46]=t("div",{class:"text-gray-600"},"No borrowed or reserved books yet.",-1)),t("button",{onClick:e[12]||(e[12]=(...s)=>o.closeBorrowedModal&&o.closeBorrowedModal(...s)),class:"absolute top-2 right-2 text-gray-400 hover:text-gray-700"},e[44]||(e[44]=[t("i",{class:"fas fa-times"},null,-1)]))])])):c("",!0),t("main",ye,[e[48]||(e[48]=t("h1",{class:"text-2xl font-semibold mb-6"},"Available Books",-1)),t("div",be,[(d(!0),n(w,null,M(o.filteredBooks,s=>(d(),n("div",{key:s.id,onClick:b=>o.openModal(s),class:"bg-white shadow-md rounded-lg overflow-hidden cursor-pointer hover:scale-105 transition transform"},[t("img",{src:s.image_url||"/img/default-book.jpg",alt:"Book Cover",class:"w-full h-56 object-cover"},null,8,xe),t("div",we,[t("h6",ve,u(s.title),1),t("button",{onClick:m(b=>o.viewQrCode(s.id,s.title),["stop"]),class:"mt-2 inline-flex items-center px-3 py-1 bg-gray-100 text-sm text-gray-700 rounded-md hover:bg-gray-200 focus:outline-none"},e[47]||(e[47]=[t("i",{class:"fas fa-qrcode mr-2"},null,-1),x(" View QR Code ")]),8,ke),t("p",Me,u(s.description),1),t("p",De,"Course: "+u(s.course||"N/A"),1),t("p",qe,"Author: "+u(s.author),1),t("span",{class:C([{"text-green-600 font-medium":s.availability==="Available","text-red-600 font-medium":s.availability==="Borrowed","text-yellow-600 font-medium":s.availability==="Reserved"},"block mt-2"])},u(s.availability),3)])],8,he))),128))])]),i.isModalOpen?(d(),n("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",onClick:e[20]||(e[20]=m((...s)=>o.closeModal&&o.closeModal(...s),["self"]))},[t("div",Se,[e[52]||(e[52]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Request Book",-1)),t("form",{onSubmit:e[19]||(e[19]=m((...s)=>o.submitRequest&&o.submitRequest(...s),["prevent"])),class:"space-y-4"},[t("div",null,[e[50]||(e[50]=t("label",{class:"block text-sm font-medium text-gray-700"},"Request Type:",-1)),y(t("select",{"onUpdate:modelValue":e[14]||(e[14]=s=>i.requestType=s),class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},e[49]||(e[49]=[t("option",{value:""},"Select a request type",-1),t("option",{value:"borrow"},"Borrow",-1),t("option",{value:"reserve"},"Reserve",-1)]),512),[[F,i.requestType]])]),t("div",null,[e[51]||(e[51]=t("label",{class:"block text-sm font-medium text-gray-700"},"Start Date:",-1)),y(t("input",{type:"date","onUpdate:modelValue":e[15]||(e[15]=s=>i.startDate=s),onChange:e[16]||(e[16]=(...s)=>o.onStartDateChange&&o.onStartDateChange(...s)),class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",min:new Date().toISOString().split("T")[0],required:""},null,40,Ce),[[h,i.startDate]])]),t("div",null,[t("label",Te,u(i.requestType==="borrow"?"Return Date":"Until Date")+": ",1),y(t("input",{type:"date","onUpdate:modelValue":e[17]||(e[17]=s=>i.returnDate=s),class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",min:o.returnDateMin,required:""},null,8,_e),[[h,i.returnDate]])]),t("div",Be,[t("button",{type:"button",onClick:e[18]||(e[18]=(...s)=>o.closeModal&&o.closeModal(...s)),class:"px-4 py-2 text-black-600 hover:bg-black-100 rounded-lg"}," Cancel "),t("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!i.requestType||!i.startDate||!i.returnDate}," Submit Request ",8,Re)])],32)])])):c("",!0),i.isProfileModalOpen?(d(),n("div",{key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",onClick:e[26]||(e[26]=m((...s)=>o.closeProfileModal&&o.closeProfileModal(...s),["self"]))},[t("div",Ne,[e[57]||(e[57]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Edit Profile",-1)),t("form",{onSubmit:e[25]||(e[25]=m((...s)=>o.updateProfile&&o.updateProfile(...s),["prevent"])),class:"space-y-4"},[t("div",null,[e[53]||(e[53]=t("label",{class:"block text-sm font-medium text-gray-700"},"Full Name:",-1)),y(t("input",{type:"text","onUpdate:modelValue":e[21]||(e[21]=s=>i.profileForm.fullname=s),class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,512),[[h,i.profileForm.fullname]])]),t("div",null,[e[54]||(e[54]=t("label",{class:"block text-sm font-medium text-gray-700"},"Email:",-1)),y(t("input",{type:"email","onUpdate:modelValue":e[22]||(e[22]=s=>i.profileForm.email=s),class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,512),[[h,i.profileForm.email]])]),t("div",null,[e[55]||(e[55]=t("label",{class:"block text-sm font-medium text-gray-700"},"Phone Number:",-1)),y(t("input",{type:"tel","onUpdate:modelValue":e[23]||(e[23]=s=>i.profileForm.phone_number=s),class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"},null,512),[[h,i.profileForm.phone_number]])]),t("div",Oe,[t("button",{type:"button",onClick:e[24]||(e[24]=(...s)=>o.closeProfileModal&&o.closeProfileModal(...s)),class:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg"}," Cancel "),e[56]||(e[56]=t("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"}," Save Changes ",-1))])],32)])])):c("",!0),i.showQrModal?(d(),n("div",{key:5,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",onClick:e[29]||(e[29]=m(s=>i.showQrModal=!1,["self"]))},[t("div",je,[t("h3",Fe,"QR Code - "+u(i.qrModalBookTitle),1),t("div",{class:"flex justify-center mb-4",innerHTML:i.qrModalSvg},null,8,Le),t("div",Pe,[t("button",{onClick:e[27]||(e[27]=(...s)=>o.downloadQr&&o.downloadQr(...s)),class:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600"},"Download SVG"),t("button",{onClick:e[28]||(e[28]=()=>i.showQrModal=!1),class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg"},"Close")])])])):c("",!0),i.showToast?(d(),n("div",Qe,u(i.toastMessage),1)):c("",!0)],64)}const ze=L(P,[["render",Ue],["__scopeId","data-v-d519404a"]]);export{ze as default};
