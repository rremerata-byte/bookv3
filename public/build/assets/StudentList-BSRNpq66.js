import{y as f,T as D,c as M,w as v,o as u,b as e,f as c,q as P,t as a,F,a as _,e as A,h as r,v as d,u as l,l as E,g as x}from"./app-BP0YNKCv.js";import{L as j}from"./FrontEndLayout-CGp3JsNY.js";import{_ as h}from"./Modal-D2JsVKOX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"ml-64 p-8 flex-1 bg-cover bg-center",style:{"background-image":"url('/img/background.jpg')"}},L={class:"bg-white rounded-lg shadow-md p-6"},$={class:"overflow-x-auto"},q={class:"min-w-full"},G={class:"bg-white divide-y divide-gray-200"},I={class:"px-6 py-4 whitespace-nowrap"},O={class:"px-6 py-4 whitespace-nowrap"},T={class:"px-6 py-4 whitespace-nowrap"},z={class:"px-6 py-4 whitespace-nowrap"},H={class:"px-6 py-4 whitespace-nowrap"},J={class:"px-6 py-4 whitespace-nowrap"},K={class:"px-6 py-4 whitespace-nowrap"},Q=["onClick"],R=["onClick"],W={class:"p-6"},X={class:"text-lg font-medium mb-4"},Y={class:"space-y-4"},Z={key:0},ee={key:1,class:"space-y-4 border-t pt-4 mt-4"},te={key:2,class:"text-red-500 text-sm mt-1"},se={key:3,class:"text-red-500 text-sm mt-1"},de={__name:"StudentList",props:{students:{type:Array,required:!0}},setup(g){const m=f(!1),y=f(!1),p=f(!1),i=f(null),t=D({fullname:"",email:"",studentid:"",courseSection:"",gender:"",password:"",password_confirmation:"",current_password:"",new_password:"",new_password_confirmation:"",phone_number:""}),S=()=>{p.value=!1,t.reset(),m.value=!0},C=n=>{p.value=!0,i.value=n,t.fullname=n.fullname,t.email=n.email,t.studentid=n.studentid,t.courseSection=n.courseSection,t.gender=n.gender,t.phone_number=n.phone_number,m.value=!0},k=()=>{p.value?t.put(route("students.update",i.value.id),{onSuccess:()=>w()}):t.post(route("students.store"),{onSuccess:()=>w()})},V=n=>{i.value=n,y.value=!0},N=()=>{t.delete(route("students.delete",i.value.id),{onSuccess:()=>b()})},w=()=>{m.value=!1,t.reset(),t.current_password="",t.new_password="",t.new_password_confirmation="",i.value=null},b=()=>{y.value=!1,i.value=null};return(n,s)=>(u(),M(j,null,{default:v(()=>[e("div",B,[e("div",L,[e("div",{class:"flex justify-between items-center mb-6"},[e("button",{onClick:S,class:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600"}," Add New User ")]),e("div",$,[e("table",q,[s[11]||(s[11]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Full Name "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Email "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Student ID "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Course & Section "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Gender "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Phone Number "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Actions ")])],-1)),e("tbody",G,[(u(!0),c(F,null,P(g.students,o=>(u(),c("tr",{key:o.id,class:"hover:bg-gray-50"},[e("td",I,a(o.fullname),1),e("td",O,a(o.email),1),e("td",T,a(o.studentid),1),e("td",z,a(o.courseSection),1),e("td",H,a(o.gender),1),e("td",J,a(o.phone_number||"N/A"),1),e("td",K,[e("button",{onClick:U=>C(o),class:"text-blue-600 hover:text-blue-800 mr-2"}," Edit ",8,Q),e("button",{onClick:U=>V(o),class:"text-red-600 hover:text-red-800"}," Delete ",8,R)])]))),128))])])])])]),_(h,{show:m.value,onClose:w},{default:v(()=>[e("div",W,[e("h3",X,a(p.value?"Edit Student":"Add New Student"),1),e("form",{onSubmit:A(k,["prevent"])},[e("div",Y,[r(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>l(t).fullname=o),type:"text",placeholder:"Full Name",class:"w-full p-2 border rounded"},null,512),[[d,l(t).fullname]]),r(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>l(t).email=o),type:"email",placeholder:"Email",class:"w-full p-2 border rounded"},null,512),[[d,l(t).email]]),r(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>l(t).studentid=o),type:"text",placeholder:"Student ID",class:"w-full p-2 border rounded"},null,512),[[d,l(t).studentid]]),r(e("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>l(t).courseSection=o),type:"text",placeholder:"Course & Section",class:"w-full p-2 border rounded"},null,512),[[d,l(t).courseSection]]),r(e("select",{"onUpdate:modelValue":s[4]||(s[4]=o=>l(t).gender=o),class:"w-full p-2 border rounded"},s[12]||(s[12]=[e("option",{value:""},"Select Gender",-1),e("option",{value:"Male"},"Male",-1),e("option",{value:"Female"},"Female",-1),e("option",{value:"Other"},"Other",-1)]),512),[[E,l(t).gender]]),r(e("input",{"onUpdate:modelValue":s[5]||(s[5]=o=>l(t).phone_number=o),type:"tel",placeholder:"Phone Number",class:"w-full p-2 border rounded"},null,512),[[d,l(t).phone_number]]),p.value?x("",!0):(u(),c("div",Z,[r(e("input",{"onUpdate:modelValue":s[6]||(s[6]=o=>l(t).password=o),type:"password",placeholder:"Password",class:"w-full p-2 border rounded"},null,512),[[d,l(t).password]]),r(e("input",{"onUpdate:modelValue":s[7]||(s[7]=o=>l(t).password_confirmation=o),type:"password",placeholder:"Confirm Password",class:"w-full p-2 border rounded mt-2"},null,512),[[d,l(t).password_confirmation]])])),p.value?(u(),c("div",ee,[s[13]||(s[13]=e("h4",{class:"font-medium"},"Change Password (optional)",-1)),r(e("input",{"onUpdate:modelValue":s[8]||(s[8]=o=>l(t).current_password=o),type:"password",placeholder:"Current Password",class:"w-full p-2 border rounded"},null,512),[[d,l(t).current_password]]),r(e("input",{"onUpdate:modelValue":s[9]||(s[9]=o=>l(t).new_password=o),type:"password",placeholder:"New Password",class:"w-full p-2 border rounded"},null,512),[[d,l(t).new_password]]),r(e("input",{"onUpdate:modelValue":s[10]||(s[10]=o=>l(t).new_password_confirmation=o),type:"password",placeholder:"Confirm New Password",class:"w-full p-2 border rounded"},null,512),[[d,l(t).new_password_confirmation]])])):x("",!0),l(t).errors.current_password?(u(),c("div",te,a(l(t).errors.current_password),1)):x("",!0),l(t).errors.new_password?(u(),c("div",se,a(l(t).errors.new_password),1)):x("",!0)]),e("div",{class:"mt-6 flex justify-end space-x-3"},[e("button",{type:"button",onClick:w,class:"px-4 py-2 border rounded"},"Cancel"),s[14]||(s[14]=e("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded"},"Save",-1))])],32)])]),_:1},8,["show"]),_(h,{show:y.value,onClose:b},{default:v(()=>[e("div",{class:"p-6"},[s[15]||(s[15]=e("h3",{class:"text-lg font-medium mb-4"},"Confirm Delete",-1)),s[16]||(s[16]=e("p",null,"Are you sure you want to delete this student?",-1)),e("div",{class:"mt-6 flex justify-end space-x-3"},[e("button",{onClick:b,class:"px-4 py-2 border rounded"},"Cancel"),e("button",{onClick:N,class:"px-4 py-2 bg-red-500 text-white rounded"},"Delete")])])]),_:1},8,["show"])]),_:1}))}};export{de as default};
