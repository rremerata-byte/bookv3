import{D as f,T as Z,x as q,b as z,w as D,o as c,e,p as n,v as d,f as L,s as A,t as a,i as g,z as O,n as T,F as $,d as N,g as G,u as l,k as b}from"./vendor-BHuxT6k0.js";import{L as H}from"./FrontEndLayout-BNzIGSVv.js";import{_ as M}from"./Modal-BdXOEmGy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"ml-64 p-8 flex-1 bg-cover bg-center bg-fixed min-h-screen",style:{"background-image":"url('/img/background.jpg')"}},K={class:"bg-white rounded-lg shadow-md p-6"},Q={class:"overflow-x-auto"},R={class:"shadow-sm rounded-lg overflow-hidden bg-white"},W={class:"flex flex-col md:flex-row items-center justify-between px-4 py-3 bg-gradient-to-r from-white to-gray-50 gap-3"},X={class:"flex items-center space-x-3 w-full md:w-auto"},Y={class:"flex items-center gap-4 w-full md:w-auto"},ee={class:"flex items-center gap-2"},te={class:"flex items-center gap-2 text-sm text-gray-500"},se={class:"font-semibold text-gray-700"},oe={class:"font-medium text-gray-700"},le={class:"min-w-full divide-y divide-gray-200 bg-white"},re={class:"bg-white divide-y divide-gray-200"},ne={class:"px-6 py-4 whitespace-nowrap"},ae={class:"flex items-center"},de={class:"h-10 w-10 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white font-semibold mr-3"},ie={class:"text-sm font-medium text-gray-900"},ue={class:"text-xs text-gray-500"},pe={class:"px-6 py-4 whitespace-nowrap"},ce={class:"text-sm text-gray-900"},me={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},we={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},xe={class:"px-6 py-4 whitespace-nowrap"},fe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ge={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ye=["onClick"],ve=["onClick"],be={class:"p-6"},he={class:"text-lg font-medium mb-4"},_e={class:"space-y-4"},Ce={key:0},ke={key:1,class:"space-y-4 border-t pt-4 mt-4"},Se={key:2,class:"text-red-500 text-sm mt-1"},Ve={key:3,class:"text-red-500 text-sm mt-1"},Ne={__name:"StudentList",props:{students:{type:Array,required:!0}},setup(h){const y=f(!1),_=f(!1),m=f(!1),w=f(null),o=Z({fullname:"",email:"",studentid:"",courseSection:"",gender:"",password:"",password_confirmation:"",current_password:"",new_password:"",new_password_confirmation:"",phone_number:""}),C=f(""),k=f("name-asc"),U=q(()=>{const r=(C.value||"").trim().toLowerCase();let t=r?h.students.filter(p=>{const x=(p.fullname||"").toString().toLowerCase(),i=(p.email||"").toString().toLowerCase(),u=(p.studentid||"").toString().toLowerCase();return x.includes(r)||i.includes(r)||u.includes(r)}):h.students;const[s,V]=k.value.split("-");return[...t].sort((p,x)=>{let i,u;switch(s){case"name":i=(p.fullname||"").toLowerCase(),u=(x.fullname||"").toLowerCase();break;case"email":i=(p.email||"").toLowerCase(),u=(x.email||"").toLowerCase();break;case"studentid":i=(p.studentid||"").toLowerCase(),u=(x.studentid||"").toLowerCase();break;case"course":i=(p.courseSection||"").toLowerCase(),u=(x.courseSection||"").toLowerCase();break;default:return 0}return V==="asc"?i>u?1:i<u?-1:0:i<u?1:i>u?-1:0})}),j=r=>r?r.split(" ").filter(Boolean).map(t=>t[0].toUpperCase()).slice(0,2).join(""):"",B=()=>{m.value=!1,o.reset(),y.value=!0},E=r=>{m.value=!0,w.value=r,o.fullname=r.fullname,o.email=r.email,o.studentid=r.studentid,o.courseSection=r.courseSection,o.gender=r.gender,o.phone_number=r.phone_number,y.value=!0},F=()=>{m.value?o.put(route("students.update",w.value.id),{onSuccess:()=>v()}):o.post(route("students.store"),{onSuccess:()=>v()})},P=r=>{w.value=r,_.value=!0},I=()=>{o.delete(route("students.delete",w.value.id),{onSuccess:()=>S()})},v=()=>{y.value=!1,o.reset(),o.current_password="",o.new_password="",o.new_password_confirmation="",w.value=null},S=()=>{_.value=!1,w.value=null};return(r,t)=>(c(),z(H,null,{default:D(()=>[e("div",J,[e("div",K,[e("div",{class:"flex justify-between items-center mb-6"},[e("button",{onClick:B,class:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600"}," Add New User ")]),e("div",Q,[e("div",R,[e("div",W,[e("div",X,[t[13]||(t[13]=e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-4.35-4.35m0 0A7 7 0 1116.65 16.65z"})],-1)),n(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>C.value=s),type:"text",placeholder:"Search students by name, email or ID...",class:"flex-1 md:w-64 px-3 py-2 rounded-md border text-sm focus:ring-0 focus:border-indigo-300"},null,512),[[d,C.value]])]),e("div",Y,[e("div",ee,[t[15]||(t[15]=e("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},[e("i",{class:"fas fa-sort mr-1"}),L(" Sort By: ")],-1)),n(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>k.value=s),class:"px-3 py-2 bg-white border border-gray-300 rounded-md text-sm focus:ring-0 focus:border-indigo-300 min-w-[180px]"},t[14]||(t[14]=[e("option",{value:"name-asc"},"Name (A-Z)",-1),e("option",{value:"name-desc"},"Name (Z-A)",-1),e("option",{value:"email-asc"},"Email (A-Z)",-1),e("option",{value:"email-desc"},"Email (Z-A)",-1),e("option",{value:"studentid-asc"},"Student ID (Ascending)",-1),e("option",{value:"studentid-desc"},"Student ID (Descending)",-1),e("option",{value:"course-asc"},"Course (A-Z)",-1),e("option",{value:"course-desc"},"Course (Z-A)",-1)]),512),[[A,k.value]])]),e("div",te,[e("span",null,[t[16]||(t[16]=L("Showing ")),e("span",se,a(U.value.length),1)]),e("span",null,[t[17]||(t[17]=L("of ")),e("span",oe,a(h.students.length),1)])])])]),e("table",le,[t[18]||(t[18]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Student"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Email"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Student ID"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Course & Section"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Gender"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Phone"),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",re,[(c(!0),g($,null,O(U.value,s=>(c(),g("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors"},[e("td",ne,[e("div",ae,[e("div",de,a(j(s.fullname)),1),e("div",null,[e("div",ie,a(s.fullname),1),e("div",ue,"ID: "+a(s.studentid),1)])])]),e("td",pe,[e("div",ce,a(s.email),1)]),e("td",me,a(s.studentid),1),e("td",we,a(s.courseSection),1),e("td",xe,[e("span",{class:T(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.gender==="Male"?"bg-blue-100 text-blue-800":s.gender==="Female"?"bg-pink-100 text-pink-800":"bg-gray-100 text-gray-800"])},a(s.gender||"N/A"),3)]),e("td",fe,a(s.phone_number||"N/A"),1),e("td",ge,[e("button",{onClick:V=>E(s),class:"text-indigo-600 hover:text-indigo-900 mr-3"},"Edit",8,ye),e("button",{onClick:V=>P(s),class:"text-red-600 hover:text-red-800"},"Delete",8,ve)])]))),128))])])])])])]),N(M,{show:y.value,onClose:v},{default:D(()=>[e("div",be,[e("h3",he,a(m.value?"Edit User":"Add New Student"),1),e("form",{onSubmit:G(F,["prevent"])},[e("div",_e,[n(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>l(o).fullname=s),type:"text",placeholder:"Full Name",class:"w-full p-2 border rounded"},null,512),[[d,l(o).fullname]]),n(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l(o).email=s),type:"email",placeholder:"Email",class:"w-full p-2 border rounded"},null,512),[[d,l(o).email]]),n(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>l(o).studentid=s),type:"text",placeholder:"Student ID",class:"w-full p-2 border rounded"},null,512),[[d,l(o).studentid]]),n(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>l(o).courseSection=s),type:"text",placeholder:"Course & Section",class:"w-full p-2 border rounded"},null,512),[[d,l(o).courseSection]]),n(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>l(o).gender=s),class:"w-full p-2 border rounded"},t[19]||(t[19]=[e("option",{value:""},"Select Gender",-1),e("option",{value:"Male"},"Male",-1),e("option",{value:"Female"},"Female",-1),e("option",{value:"Other"},"Other",-1)]),512),[[A,l(o).gender]]),n(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>l(o).phone_number=s),type:"tel",placeholder:"Phone Number",class:"w-full p-2 border rounded"},null,512),[[d,l(o).phone_number]]),m.value?b("",!0):(c(),g("div",Ce,[n(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>l(o).password=s),type:"password",placeholder:"Password",class:"w-full p-2 border rounded"},null,512),[[d,l(o).password]]),n(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>l(o).password_confirmation=s),type:"password",placeholder:"Confirm Password",class:"w-full p-2 border rounded mt-2"},null,512),[[d,l(o).password_confirmation]])])),m.value?(c(),g("div",ke,[t[20]||(t[20]=e("h4",{class:"font-medium"},"Change Password (optional)",-1)),n(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>l(o).current_password=s),type:"password",placeholder:"Current Password",class:"w-full p-2 border rounded"},null,512),[[d,l(o).current_password]]),n(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>l(o).new_password=s),type:"password",placeholder:"New Password",class:"w-full p-2 border rounded"},null,512),[[d,l(o).new_password]]),n(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>l(o).new_password_confirmation=s),type:"password",placeholder:"Confirm New Password",class:"w-full p-2 border rounded"},null,512),[[d,l(o).new_password_confirmation]])])):b("",!0),l(o).errors.current_password?(c(),g("div",Se,a(l(o).errors.current_password),1)):b("",!0),l(o).errors.new_password?(c(),g("div",Ve,a(l(o).errors.new_password),1)):b("",!0)]),e("div",{class:"mt-6 flex justify-end space-x-3"},[e("button",{type:"button",onClick:v,class:"px-4 py-2 border rounded"},"Cancel"),t[21]||(t[21]=e("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded"},"Save",-1))])],32)])]),_:1},8,["show"]),N(M,{show:_.value,onClose:S},{default:D(()=>[e("div",{class:"p-6"},[t[22]||(t[22]=e("h3",{class:"text-lg font-medium mb-4"},"Confirm Delete",-1)),t[23]||(t[23]=e("p",null,"Are you sure you want to delete this student?",-1)),e("div",{class:"mt-6 flex justify-end space-x-3"},[e("button",{onClick:S,class:"px-4 py-2 border rounded"},"Cancel"),e("button",{onClick:I,class:"px-4 py-2 bg-red-500 text-white rounded"},"Delete")])])]),_:1},8,["show"])]),_:1}))}};export{Ne as default};
